<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zalo Social</title>
    <link rel="stylesheet" href="style.css">
    <script src="/socket.io/socket.io.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>

    <div id="auth-screen" class="login-container">
        <div id="form-login" class="login-box">
            <h2 class="logo-text">Zalo Social</h2>
            <input type="text" id="loginPhone" placeholder="Số điện thoại" value="0901111111">
            <input type="password" id="loginPass" placeholder="Mật khẩu" value="123456">
            <button onclick="handleLogin()">Đăng nhập</button>
            <p style="margin-top:10px; font-size:13px; color:#666">Chưa có nick? <a onclick="switchForm('register')" style="color:blue; cursor:pointer">Đăng ký</a></p>
        </div>
        <div id="form-register" class="login-box hidden">
            <h2 class="logo-text">Đăng ký</h2>
            <input type="text" id="regName" placeholder="Tên hiển thị">
            <input type="text" id="regPhone" placeholder="Số điện thoại">
            <input type="password" id="regPass" placeholder="Mật khẩu">
            <button onclick="handleRegister()">Tạo tài khoản</button>
            <button class="btn-outline" onclick="switchForm('login')">Quay lại</button>
        </div>
    </div>

    <div id="main-app" class="app-container hidden">
        
        <nav class="main-nav">
            <div class="nav-top">
                <div class="nav-avatar"><img src="" id="nav-user-avatar"></div>
                <div class="nav-item active" id="tab-chat-btn" onclick="switchTab('chat')">
                    <i class="fas fa-comment-dots"></i>
                </div>
                <div class="nav-item" id="tab-feed-btn" onclick="switchTab('feed')">
                    <i class="far fa-newspaper"></i>
                </div>
            </div>
            <div class="nav-bottom">
                <div class="nav-item" onclick="handleLogout()"><i class="fas fa-sign-out-alt"></i></div>
            </div>
        </nav>

        <div id="view-chat" class="view-container">
            <div class="sidebar" id="sidebar">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Tìm người dùng...">
                </div>
                <div style="padding:10px; font-size:12px; color:#666; background:#f9f9f9; border-bottom:1px solid #eee">
                    DANH SÁCH LIÊN HỆ
                </div>
                <div id="conversation-list" class="list-content"></div>
            </div>
            <div class="chat-area" id="chat-area">
                <div class="header-bar chat-header">
                    <button class="icon-btn back-btn" onclick="closeChatMobile()"><i class="fas fa-arrow-left"></i></button>
                    <div class="chat-info"><h3 id="chat-title">Chào mừng</h3><span id="chat-status">Chọn một người để chat</span></div>
                </div>
                <div id="message-list" class="message-list"></div>
                <div id="input-area" class="input-area hidden">
                    <input type="text" id="messageInput" placeholder="Nhập tin nhắn...">
                    <button onclick="sendMessage()" class="send-btn">GỬI</button>
                </div>
            </div>
        </div>

        <div id="view-feed" class="view-container hidden" style="flex-direction: column; align-items: center; background: #eef4fc; width: 100%;">
            <div class="feed-container">
                <div class="feed-header">
                    <h2>Bảng Tin Công Ty</h2>
                    <button id="btn-create-post" class="btn-post hidden" onclick="togglePostForm()">
                        <i class="fas fa-pen"></i> Đăng bài
                    </button>
                </div>
                <div id="post-form" class="post-box hidden">
                    <textarea id="postContent" placeholder="Thông báo mới là gì..."></textarea>
                    <input type="text" id="postImage" placeholder="Link ảnh (nếu có)">
                    <button onclick="handlePostNews()">Đăng lên</button>
                </div>
                <div id="feed-list"></div>
            </div>
        </div>

    </div>
    <script src="client.js"></script>
</body>
</html>